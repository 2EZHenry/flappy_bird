<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<head lang="en">
	<meta http-equiv="content-type" content="text/html;charset=utf-8">
	<title>Harry’s Flight - HTML5 Game</title>
	<!-- Framework CSS -->
	<link rel="stylesheet" href="assets/blueprint-css/screen.css" type="text/css" media="screen, projection">
	<link rel="stylesheet" href="assets/blueprint-css/print.css" type="text/css" media="print">
	<!--[if lt IE 8]><link rel="stylesheet" href="assets/blueprint-css/ie.css" type="text/css" media="screen, projection"><![endif]-->
	<link rel="stylesheet" href="assets/blueprint-css/plugins/fancy-type/screen.css" type="text/css" media="screen, projection">
	<style type="text/css" media="screen">
		p, table, hr, .box { margin-bottom:25px; }
		.box p { margin-bottom:10px; }
	</style>
</head>


<body>
	<div class="container">
	
		<h3 class="center alt">&ldquo;Harry’s Flight&rdquo; Documentation by &ldquo;APG&rdquo; v1.0</h3>
		
		<hr>
		
		<h1 class="center">&ldquo;Harry’s Flight&rdquo;</h1>
		
		<div class="borderTop">
			<div class="span-6 colborder info prepend-1">
				<p class="prepend-top">
					<strong>
					Created: 29/07/2024<br>
					By: APG<br>
					Email: <a href="mailto:apggames99@gmail.com">apggames99@gmail.com</a>
					</strong>
				</p>
			</div><!-- end div .span-6 -->		
	
			<div class="span-12 last">
				<p class="prepend-top append-0">Thank you for purchasing my game. If you have any questions that are beyond the scope of this help file, please feel free to email via my user page contact form <a href="http://themeforest.net/user/apggames99">here</a>. Thanks so much!</p>
			</div>
		</div><!-- end div .borderTop -->
		
		<hr>
		
		<h2 id="toc" class="alt">Table of Contents</h2>
		<ol class="alpha">
			<li><a href="#description">Description</a></li>
			<li><a href="#fcontent">Folder Content</a></li>
			<li><a href="#getstart">Getting Started</a></li>
			<li><a href="#code">Source Code</a></li>
			<li><a href="#config">Config</a></li>
			<li><a href="#lang">Language Management</a></li>
			<li><a href="#store">Store Config</a></li>
			<li><a href="#audio">Audio Management</a></li>
			<li><a href="#social">Social Api</a></li>
			<li><a href="#wnd">Windows Management</a></li>
			<li><a href="#font">Fonts</a></li>
			<li><a href="#progress">Saving progress</a></li>
			<li><a href="#changegraph">Change Graphics</a></li>
			<li><a href="#bundle">Bundle Build</a></li>
			<li><a href="#cop">Copyright</a></li>
			
			
			<!-- <li><a href="#htmlStructure">HTML Structure</a></li>
			<li><a href="#cssFiles">CSS Files and Structure</a></li>
			<li><a href="#javascript">JavaScript</a></li>
			<li><a href="#psdFiles">PSD Files</a></li>
			<li><a href="#credits">Sources and Credits</a></li>
			
			<li><a href="#">PHP Code Explanation</a> <em class="quiet small">(If your theme uses PHP)</em></li>
			<li><a href="#">Flash</a>  <em class="quiet small">(If your theme uses Flash)</em></li>
			<li><a href="#">API Usage</a> <em class="quiet small">(If your theme uses an API)</em></li>
			<li><a href="#">Any additional unique features that need an overview</a></li> -->
		</ol>
		
		<hr>
		
		<h3 id="description"><strong>A) Description</strong> - <a href="#toc">top</a></h3>
		<p>
			Harry’s Flight is an HTML5 game powered by Phaser 3. It is a clone of the world-renowned Flappy Bird game. The ZIP package contains the game at a 640x960 resolution with auto-resize support for portrait mode. This game is playable on all platforms (mobile, PC, etc.).
		</p>
		
		<h3 id="fcontent"><strong>B) Folder Content</strong> - <a href="#toc">top</a></h3>
		<ol>
			<li>
				<strong>assets</strong>
			</li>
			This folder contains assets such as sounds, images, fonts, and XML files.
			<li>
				<strong>docs</strong>
			</li>
			This folder contains documentation.
			<li>
				<strong>content</strong>
			</li>
			This folder contains graphical sources.
			<li>
				<strong>external</strong>
			</li>
			This folder is for external plugins and libraries.
			<li>
				<strong>js</strong>
			</li>
			This folder contains JavaScript code.
			<li>
				<strong>boot.js</strong>
			</li>
			This is the main JavaScript file where the game is initialized and assets are preloaded.
			<li>
				<strong>config.js</strong>
			</li>
			This file contains the game configuration settings.
			<li>
				<strong>game_request.js</strong>
			</li>
			This file contains requests that manage the user's state.
			<li>
				<strong>index.html</strong>
			</li>
			This is a root HTML file.
			<li>
				<strong>gulpfile.js</strong>
			</li>
			GULP config.
			<li>
				<strong>package.json</strong>
			</li>
			Project's metadata.
		</ol>

		<h3 id="getstart"><strong>C) Getting Started</strong> - <a href="#toc">top</a></h3>
		<p>To run the game you just need to run index.html in the browser via local server like <a href="https://httpd.apache.org/docs/current/platform/windows.html" target="_blank">Apache</a>, <a href="https://www.apachefriends.org/" target="_blank">Xampp</a>, or another one.</p>

		<h3 id="code"><strong>D) Source Code</strong> - <a href="#toc">top</a></h3>
		<p>
			This game contains:
			<ol>
				<li>Phaser 3</li>
				<li>Circular Plugin</li>
				<li>Our custom scripts</li>
			</ol>
			<ol>
				<li>Phaser 3 is a game framework built with JavaScript that allows you to create games using HTML, a little bit of CSS, and JavaScript.</li>
				<li>Circular Plugin is used in Level Failed window to show a circular progress bar on the canvas.</li>
				<li>
					The game has the following JavaScript files:
					<ul>
						<li>./boot.js: this is the main file that preloads assets and initializes the game.</li>
						<li>./config.js: this file contains the game configuration.</li>
						<li>./game_request.js: this file contains requests that manage the user's state.</li>
						<li>./js/game.js: this file is called in <strong>boot.js</strong> and creates all the internal classes and managers.</li>
						<li>./js/game_map/game_map.js: this class is responsible for managing the starting scene.</li>
						<li>./js/game_play/game_play.js: this class is responsible for game logic and gameplay control.</li>
						<li>./js/game_utilities/audio_manager.js: this class manages sound and music control.</li>
						<li>./js/game_utilities/custom_button.js: this class creates an in-game button.</li>
						<li>./js/game_utilities/game_utils.js: this class contains various utility functions.</li>
						<li>./js/game_utilities/graphics_manager.js: this class helps create graphics for windows.</li>
						<li>./js/game_utilities/social_api.js: this class manages social functions.</li>
						<li>./js/game_utilities/test_ad_manager.js: this class manages test interstitial and rewarded ads.</li>
						<li>./js/game_windows/game_windows.js: this class controls the creation, management, and deletion of windows.</li>
						<li>./js/game_windows/select_language.js: this class creates a window that allows for language selection.</li>
						<li>./js/game_windows/level_start.js: this class creates a window that allows you to start a level.</li>
						<li>./js/game_windows/level_failed.js: this class creates a window that allows you to continue the level by watching a reward ad or to exit.</li>
						<li>./js/game_windows/level_finished.js: this class creates a window that displays the level result and switches gameplay to the game map.</li>
						<li>./js/game_windows/remove_ads.js: this class creates a window that displays an offer to buy ad disabling.</li>
						<li>./js/game_windows/purchase_failed.js: this class creates a window that displays a failed purchase.</li>
						<li>./js/game_windows/purchase_success.js: this class creates a window that displays a successful purchase.</li>
						<li>./js/shop/shop.js: this class creates a shop where users can acquire additional skins.</li>
					</ul>
				</li>
			</ol>
			Resuming, the complete game flow is the following:
			<ol>
				<li>The index.html file preloads boot.js, config.js and game_request.js.</li>
				<li>Then in boot.js the process of preloading and game initialization starts when the ready event is called.</li>
				<li>After that, game.js starts the process of creating other classes, containers and managers.</li>
				<li>After all the creations, the map scene starts, allowing the player to begin playing.</li>
				<li>
					There is a user data object that defines user progress and behavior. When the user performs any action, a request is sent to update the user data. This data is then updated in <strong>localStorage</strong>. All the requests can be found in <strong>game_request.js</strong>. Here is an example of how a request is called when the user fails a level in the <strong>GamePlay</strong> class:
				</li>
				<img src="assets/images/20.png" alt="request example" />
			</ol>
		</p>

		<h3 id="changegraph"><strong>E) Config</strong> - <a href="#toc">top</a></h3>
		<p>
			The initial configuration can be found in the <strong>index.html</strong> file, and it contains some basic information.
		</p>
		<img src="assets/images/1.png" alt="loading_vars" />
		<p>
			The <strong>gameOptions</strong> object is in <strong>config.js</strong> and it means the game play configuration.
		</p>
		<img src="assets/images/2.png" alt="game play configuration" />
		<p>
			The <strong>gamedata</strong> object is in <strong>config.js</strong> and contains various social and shop-related components.
		</p>
		<img src="assets/images/3.png" alt="game data configuration" />
		<p>
			The <strong>userdata</strong> object is in <strong>config.js</strong> and contains information about the user.
		</p>
		<img src="assets/images/4.png" alt="user data configuration" />
		
		<h3 id="lang"><strong>F) Language Management</strong> - <a href="#toc">top</a></h3>
		<p>
			There are five languages used in the game: English, French, German, Spanish, and Italian. All of the phrases can be found in <strong>./assets/xml/language.xml</strong>. Each phrase has important attributes: <strong>scene_id</strong>, <strong>item_id</strong>, and <strong>phrase_id</strong>, which are needed to call the phrase in JavaScript. Each phrase contains internal tags responsible for specific languages. Each language tag includes two inner tags: <strong>&lt;TEXT&gt;</strong>, which contains the value, and <strong>&lt;SIZE&gt;</strong>, which specifies the size value (0 by default). For example, setting <strong>-4</strong> will make the phrase smaller by 4 points.
		</p>
		<img src="assets/images/5.png" alt="phrase example" />
		<p>
			To generate text and set it to the JavaScript Text Object, follow these steps. As shown, you need to call the <strong>game_utils.generate_string</strong> method and provide <strong>scene_id</strong>, <strong>item_id</strong>, <strong>phrase_id</strong>, <strong>values</strong>, and <strong>base_size</strong>. This method returns an object with <strong>text</strong> and <strong>size</strong> fields. You can then create bitmap text and set the result accordingly.
		</p>
		<img src="assets/images/6.png" alt="generate text" />
		<p>
			I didn't mention the <strong>values</strong> parameter. For example, if you need a phrase with a dynamic result, you should construct your tag as follows: replace the value with <strong>%val</strong>, and then pass the desired value into the <strong>values</strong> array.
		</p>
		<img src="assets/images/7.png" alt="button" />
		<img src="assets/images/8.png" alt="phrase example" />
		<img src="assets/images/9.png" alt="phrase example" />
		<p>
			To add a new phrase, simply add a <strong>&lt;DYNAMIC_PHRASE&gt;</strong> tag with three attributes and the necessary inner values and tags. Then, call it in the same way as shown in previous examples.
		</p>
		<p>
			Additionally, you can switch the language during the game by calling the <strong>SelectLanguage</strong> window.
		</p>
		<img src="assets/images/10.png" alt="select language" />
		<p>
			If you want to remove a language, you should delete its value from the <strong>game_data['langs']</strong> array.
		</p>
		<img src="assets/images/11.png" alt="remove language" />
		<h3 id="store"><strong>G) Store Config</strong> - <a href="#toc">top</a></h3>
		<p>
			Let's imagine you want to add a skin named Severus. To add a new skin to the game, you should:
		</p>
		<ol>
			<li>Add two images, <strong>severus.png</strong> (used in the shop) and <strong>severus_small.png</strong> (used in the gameplay, 128x128), to <strong>content/common1</strong> and recreate the <strong>common1</strong> sprite sheet.</li>
			<li>Add phrase to the <strong>language.xml</strong> with <strong>scene_id = "shop"</strong>, <strong>item_id = "shop"</strong> and <strong>phrase_id = "severus"</strong>. This text is used in the shop.</li>
			<li>
				Consider <strong>game_data['shop']</strong> object. There are two categories in total: purchasing with in-game currency or by viewing ads. Decide which category you want to add the character to. Depending on your decision add an object like <br><code>{ id: "severus", price: value }</code>
				to the <strong>money</strong> or <strong>ad</strong> array.
			</li>
		</ol>
		<img src="assets/images/12.png" alt="shop config" />
		<p>
			There is also an in-app purchase available in the game. Specifically, there is a "remove ads" button. If you buy this, interstitial ads will not be called. All you need to do is integrate your network API into the <strong>game_data['social_api'].purchase()</strong> method.
		</p>
		<img src="assets/images/30.png" alt="purchase config" />
		<img src="assets/images/31.png" alt="remove ad button" />
		<h3 id="audio"><strong>H) Audio Management</strong> - <a href="#toc">top</a></h3>
		<p>
			Here is path where all sounds and music are located <strong>./assets/audio/</strong> . To call a sound in the game, you should use the following method:
		</p>
		<img src="assets/images/15.png" alt="sound call" />
		<p>
			If you want to play looped music, use this method:
		</p>
		<img src="assets/images/16.png" alt="music call" />
		<p>
			If you want to stop all sounds and music, use this method:
		</p>
		<img src="assets/images/17.png" alt="stop all" />
		<p>
			You can also stop a specific sound or music, though this case is not used in the game. If you want to do this, you should call  <code>game_data['audio_manager'].sound_event({'stop': true, 'sound_type': 'sound' // or 'music'});</code>
		</p>
		<p>
			There are two fields in the userdata object that define the state of music and sounds.
		</p>
		<img src="assets/images/18.png" alt="user data fields" />
		<p>
			The control of these fields is managed through two methods in the <strong>GameMap</strong> class.
		</p>
		<img src="assets/images/19.png" alt="music and sound controls" />
		<h3 id="social"><strong>I) Social Api</strong> - <a href="#toc">top</a></h3>
		<p>
			If you decide to publish this game anywhere, you should initialize the social features (rewarded ads, interstitial ads, etc.). Consider using the <strong>SocialApi</strong> class in the <strong>game_utilities/social_api.js</strong> file as the base for your own implementation. Here is an example of a test net ID social class with mock code:
		</p>
		<img src="assets/images/13.png" alt="YourNetApi" />
		<p>
			Here is the initialization of the <strong>SocialApi</strong> class in the <strong>game.js</strong> file.
		</p>
		<img src="assets/images/14.png" alt="Social part initialization" />
		<p>
			To call a rewarded ad, you should use the <strong>game_data['utils'].show_rewarded_ad</strong> method. For an example, you can refer to the <strong>LevelFailed</strong> class or the <strong>Shop</strong> class.
		</p>
		<p>
			To call an interstitial ad, you should use the <strong>game_data['utils'].check_ads</strong> method. For an example, you can refer to the <strong>LevelFinished</strong> class or the <strong>LevelStart</strong> class.
		</p>
		<img src="assets/images/28.png" alt="call interstitial" />
		<p>
			In this example, the parameter passed is the string "level_lost". To make it clearer, you should consider the <strong>game_data['ads']['interstitial']['event_mult']</strong> object. Here, you can see a key with a float value. This indicates the place in the game where the ad could be called and the probability of it being called (e.g., 1 means the ad will be called every time, while 0.3 means the ad will be called 3 times out of 10 on average).
		</p>
		<img src="assets/images/29.png" alt="game_data['ads']['interstitial']['event_mult']" />
		<p>
			To summarize, let's say you want to publish a game on the Y platform with in-app payments, interstitial ads, and rewarded ads.
			The platform will provide its own API. To integrate the game with Y, follow these steps:
		</p>
		<ol>
			<li>Change <strong>loading_vars['net_id']</strong> in the <strong>index.html</strong> file to <strong>'y'</strong> for example.</li>
			<li>Implement a class in <strong>./js/game_utilities/social_api.js</strong> as shown below.</li>
			<img src="assets/images/39.png" alt="" />
			<li>Initialize this class in the <strong>get_social_api</strong> method (<strong>./js/game.js</strong>) as shown below.</li>
			<img src="assets/images/40.png" alt="" />
			<li>If the platform offers cloud storage for saving progress, add code to game_request.js in the <strong>save_user_data</strong> and <strong>get_game_info_local</strong> methods as follows:</li>
			<img src="assets/images/41.png" alt="" />
			<img src="assets/images/42.png" alt="" />
			<li>
				If the platform requires an initialization process, add it to the <strong>initialize</strong> function in <strong>boot.js</strong> as shown below.
			</li>
			<img src="assets/images/43.png" alt="" />
		</ol>
		<h3 id="wnd"><strong>J) Windows Management</strong> - <a href="#toc">top</a></h3>
		<p>
			To display any window, you should call the following:
		</p>
		<img src="assets/images/21.png" alt="windows call" />
		<p>
			To close this window:
		</p>
		<img src="assets/images/23.png" alt="windows close" />
		<p>
			If you want to create your own window, you should initialize it in the <strong>display_window</strong> method's <strong>switch case</strong> statement in the <strong>./js/game_windows/game_windows.js</strong> file.
		</p>
		<img src="assets/images/22.png" alt="windows initializing" />
		<p>
			All window methods, such as <strong>open</strong>, <strong>close</strong>, etc., are located in the <strong>./js/game_windows/game_windows.js</strong> file.
		</p>
		<h3 id="changegraph"><strong>K) Fonts</strong> - <a href="#toc">top</a></h3>
		<p>
			There are two font types used in the game: <strong>Bitmap Font</strong> and <strong>Outline Font</strong>. Both are located in the <strong>assets/fonts/</strong> folder. Here is an example of creating a bitmap text:
		</p>
		<img src="assets/images/25.png" alt="windows initializing" />
		<p>
			Here is an example of creation an outline text:
		</p>
		<img src="assets/images/24.png" alt="windows initializing" />
		<p>
			To use a bitmap font, you should preload it as done in <strong>boot.js</strong>.
		</p>
		<img src="assets/images/26.png" alt="windows initializing" />
		<p>
			To use outline text, the <strong>assets/fonts/fontLoader1.css</strong> file is used and is called in <strong>index.html</strong>. There is an HTML issue where you need to assign this font to an element that will not be used; otherwise, some of your game text may not display correctly.
		</p>
		<img src="assets/images/27.png" alt="" />
		<h3 id="progress"><strong>L) Saving progress</strong> - <a href="#toc">top</a></h3>
		<p>
			The current version uses <strong>localStorage</strong> to save progress.
			If you don't want <strong>localStorage</strong> to save progress, set <strong>game_data['clear_storage'] = true</strong>.
			This logic is implemented in <strong>game_request.js</strong>.
			The <strong>get_game_info_local</strong> method checks if there was previous progress, and if so, it uses that progress.
			The <strong>save_user_data</strong> method saves progress and is called after any request made during the game, such as a <strong>buy_booster</strong> request. If you want to use a different storage method, you need to implement its API in these methods. An example is shown in the Social API section.
		</p>
		<h3 id="changegraph"><strong>M) Change Graphics</strong> - <a href="#toc">top</a></h3>
		<p>
			Most graphics used in the game are taken from the <strong>common1</strong> sprite sheet (<strong>./assets/common1.png</strong>, <strong>./assets/common1.json</strong>). The source graphics are located in <strong>./content/common1/</strong>. You can modify any graphics in <strong>./content/common1/</strong> and rebuild the sprite sheet using the <a href="https://www.codeandweb.com/texturepacker" target="_blank">TexturePacker</a> tool. Additionally, you can change the background in <strong>./assets/bgs/back.png</strong> to one of your preference.
		</p>
		<h3 id="bundle"><strong>N) Bundle Build</strong> - <a href="#toc">top</a></h3>
		<p>
			If you set <strong>loading_vars['js_combined']</strong> to true, the preloader will try to get the <strong>bundle.js</strong> file. This is intended for production mode. There are <strong>gulpfile.js</strong> and <strong>package.json</strong> files to build. You should install NPM and then run the following commands:
			<ul>
				<li>npm i</li>
				<li>npm start</li>
			</ul>
			After that, a <strong>js_min</strong> folder will be created, and <strong>boot.js</strong>, <strong>config.js</strong>, <strong>game_request.js</strong>, and <strong>bundle.js</strong> (built from the <strong>js</strong> folder) will be placed there.
		</p>
		<h3 id="cop"><strong>O) Copyright</strong> - <a href="#toc">top</a></h3>
		<p>
			All images used in the game were generated with the <a href="https://www.midjourney.com/home">Midjourney</a> tool and are free to use commercially.
		</p>
		<p>
			All sounds and music are free to use commercially and obtained from the following resources:
			<ul>
				<li><a href="https://pixabay.com/music/">Pixabay</a></li>
				<li><a href="https://itch.io/">Itch</a></li>
				<li><a href="https://www.silvermansound.com/">Silvermansound</a></li>
			</ul>
		</p>
		
		<hr>
		
		<p>Once again, thank you so much for purchasing this game. Feel free to contact us if you have any questions or issue relating to this game. No guarantees, but we'll do our best to assist.</p> 
		
		<p class="append-bottom alt large"><strong>APG</strong></p>
		<p><a href="#toc">Go To Table of Contents</a></p>
		
		<hr class="space">
	</div><!-- end div .container -->
</body>
</html>